(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{2980:function(t,e,n){"use strict";n.r(e);n(21),n(174),n(23),n(533),n(13),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(39),n(33),n(529),n(246),n(32);var o=n(370),l={name:"BtSearch",data:function(){return{keyword:"",api:"",data:[],loading:!0,apiList:[],init:!1}},mounted:function(){this.getApi()},methods:{getApi:function(){var t=this;this.$axios.get("/bt").then((function(e){t.loading=!1,t.apiList=e.data.data})).catch((function(e){t.$notify.error({title:"获取接口失败",message:e})}))},search:function(){var t=this;return!this.loading&&(this.api?void(this.keyword?(this.loading=!0,this.data=[],this.$axios.post("/bt",{source:this.api.value,keyword:this.keyword}).then((function(e){t.init=!0,t.loading=!1,t.data=e.data.data})).catch((function(e){t.loading=!1,t.$notify.error({title:"搜索失败",message:e})}))):this.$notify.error({title:"搜索失败",message:"请输入关键词"})):this.$notify.warning({title:"搜索失败",message:"请选择接口"}))},doCopy:function(text){var t=this;this.$copyText(text).then((function(){t.$message.success("复制成功")}),(function(){t.$message.error("复制失败")}))},download:function(t){var e=this;if(this.loading)return!1;this.loading=!0,this.$axios.post("/bt/getUrl",{source:t.TrackerId,filename:t.Title,path:t.Path}).then((function(t){if(e.loading=!1,!t.data.data){var n=new Blob([new Uint8Array(t.data.buffer.data).buffer],{type:t.data.type}),l=URL.createObjectURL(n);return e.$alert('<a href="'.concat(l,'" download="').concat(t.data.filename,'">').concat(l,"</a>"),"下载地址",{confirmButtonText:"下载",dangerouslyUseHTMLString:!0,callback:function(n){"confirm"===n&&o.a.bind(e)({url:l,filename:t.data.filename})}}),!1}e.$alert("<pre>".concat(t.data.data,"</pre>"),"下载地址",{confirmButtonText:"复制",dangerouslyUseHTMLString:!0,callback:function(){e.$copyText(t.data.data).then((function(){e.$message.success("复制成功")}),(function(){e.$message.error("复制失败，请手动选择复制")}))}})})).catch((function(t){e.loading=!1,e.$notify.error({title:"下载失败",message:t})}))}}},r=n(6),c=function(t){t.exports.head={meta:[{hid:"keywords",keywords:"磁力搜索,种子搜索,BT搜索,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"磁力种子搜索"}],title:"磁力搜索 - MikuTools"},t.options.toolsMeta={name:"磁力搜索",path:"/bt_search",head:{meta:[{hid:"keywords",keywords:"磁力搜索,种子搜索,BT搜索,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"磁力种子搜索"}],title:"磁力搜索 - MikuTools"},vip:!0,platforms:["app-android","web-pc","web-mobile"],hot:"vip",key:["vip","other"],icon:"$tabler$magnet"}},component=Object(r.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bt_search"},[e("nya-container",{attrs:{main:"",title:"磁力搜索"}},[e("div",{staticClass:"nya-subtitle"},[t._v("\n            关键词\n        ")]),e("el-input",{staticClass:"mb-15",attrs:{disabled:t.loading,placeholder:"lovelive",autofocus:"",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(1)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("el-button",{attrs:{slot:"append",loading:t.loading},on:{click:function(e){return t.search(1)}},slot:"append"},[t._v("\n                "+t._s(t.loading?"搜索中":"开始搜索")+"\n            ")])],1),e("div",{staticClass:"nya-subtitle"},[t._v("\n            选择磁力接口\n        ")]),e("el-select",{staticClass:"full-width mb-15",attrs:{"popper-append-to-body":!1,disabled:t.loading,placeholder:"请选择磁力接口"},model:{value:t.api,callback:function(e){t.api=e},expression:"api"}},t._l(t.apiList,(function(n){return e("el-option",{key:n.name,attrs:{value:n,label:n.name}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(n.name))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(n.desc))])])})),1),t.api?e("div",[e("div",{staticClass:"nya-subtitle"},[t._v("\n                接口信息\n            ")]),e("ul",{staticClass:"nya-list"},[e("li",[t._v("接口名称："+t._s(t.api.name))]),e("li",[t._v("\n                    网址："),e("app-link",{attrs:{href:t.api.url,target:"_blank",rel:"noopener noreferrer"}},[t._v("\n                        "+t._s(t.api.url)+"\n                    ")])],1),e("li",[t._v("搜索范围："+t._s(t.api.desc))])])]):t._e()],1),t.data.length||t.init?e("nya-container",{attrs:{title:"搜索结果"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data,border:""}},[e("el-table-column",{attrs:{prop:"Title",label:"文件名","min-width":"200"}}),e("el-table-column",{attrs:{prop:"PublishDate",label:"日期",width:"100"}}),e("el-table-column",{attrs:{prop:"Size",label:"文件大小",width:"100"}}),e("el-table-column",{attrs:{prop:"magnet",label:"链接",width:"100",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.MagnetUri?e("el-button",{staticClass:"mr-5",attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.doCopy(n.row.MagnetUri)}}},[t._v("\n                        复制\n                    ")]):t._e(),n.row.MagnetUri?e("el-link",{attrs:{type:"primary",href:n.row.MagnetUri}},[t._v("\n                        下载\n                    ")]):e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.download(n.row)}}},[t._v("\n                        下载\n                    ")])]}}],null,!1,2675297995)})],1)],1):t._e(),e("nya-container",{attrs:{title:"说明"}},[e("ul",{staticClass:"nya-list"},[e("li",[t._v("如果发现某个接口无法使用可尝试更换接口")]),e("li",[t._v("\n                磁力搜索失效速度非常快，暂时无解，可通过 "),e("nuxt-link",{attrs:{to:"/message_board"}},[t._v("\n                    【问题反馈】\n                ")]),t._v(" 提交你认位不错的磁力站点\n            ")],1),e("li",[e("b",[t._v("部分电影、游戏等资源最好使用英语或发行地语言进行搜索")])])])])],1)}),[],!1,null,null,null);"function"==typeof c&&c(component);e.default=component.exports}}]);