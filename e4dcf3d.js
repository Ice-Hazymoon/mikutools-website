(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1128:function(n,e){},1129:function(n,e){},1130:function(n,e){},1454:function(n,e,t){n.exports={}},2520:function(n,e,t){n.exports=t.p+"img/cyberpunk_2077_logo.3c380db.png"},2521:function(n,e,t){n.exports=t.p+"img/cyberpunk_2077_logo_2.eade39d.png"},2522:function(n,e,t){n.exports=t.p+"img/cyberpunk_2077_logo_shadow.8b19f51.png"},2523:function(n,e,t){n.exports=t.p+"img/cyberpunk_2077_logo_cn.a39388e.png"},2524:function(n,e,t){"use strict";t(1454)},3004:function(n,e,t){"use strict";t.r(e);t(21),t(68),t(13);var o,r=t(370),c=t(959);o=t(1127).fabric;var l={name:"Cyberpunk2077",data:function(){return{n:null,src:{logo_en:t(2520),logo_en_2:t(2521),logo_en_shadow:t(2522),logo_cn:t(2523)},style:"logo_en",logo:null,backgroundImage:null,canvas:null}},watch:{style:function(){this.n&&this.renderCanvas()}},mounted:function(){this.canvas=new o.Canvas(this.$refs.canvas)},methods:{handleChange:function(n){var e=this,t=n.target.files;if(!t.length)return!1;var o=t[0];Object(c.a)(o).then((function(n){var image=new Image;image.onload=function(){e.backgroundImage=image,e.$nextTick(e.renderCanvas)},image.src=n}))},renderCanvas:function(){var n=this;this.canvas.clear();var image=this.backgroundImage,e=1600,t=this.$refs.box.offsetWidth,r=1;image.width>e?(this.canvas.setWidth(e),this.canvas.setHeight(e/image.width*image.height),r=e/image.width):(this.canvas.setWidth(image.width),this.canvas.setHeight(image.height)),this.getLogo().then((function(){var t=image.width/2/n.logo.width;image.width>e&&(t=800/n.logo.width);var r=new o.Image(n.logo,{scaleX:t,scaleY:t,left:0,top:0});n.canvas.add(r),r.centerH(),n.canvas.renderAll()}));var c=new o.Image(image,{scaleX:r,scaleY:r,left:0,top:0,selectable:!1});this.canvas.setBackgroundImage(c),this.canvas.width>t&&(this.canvas.wrapperEl.style.transform="scale(".concat(t/this.canvas.width,")"),this.canvas.wrapperEl.style.width="100%",this.canvas.wrapperEl.style.height=this.canvas.height*(t/this.canvas.width)+"px")},getLogo:function(){var n=this;return new Promise((function(e,t){var image=new Image;image.crossOrigin="Anonymous",image.onload=function(){n.logo=image,e(image)},image.onerror=t,image.src=n.src[n.style]}))},save:function(){if(!this.n)return!1;r.a.bind(this)({url:this.canvas.toDataURL(),filename:"cyberpunk-2077_".concat((new Date).getTime(),".png")})}}},h=(t(2524),t(6)),d=function(n){n.exports.head={meta:[{hid:"keywords",keywords:"Cyberpunk2077,赛博朋克2077,Cyberpunk 2077 meme,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"万物皆可 Cyberpunk"}],title:"2077 图片制作 - MikuTools"},n.options.toolsMeta={name:"2077 图片制作",path:"/cyberpunk2077",head:{meta:[{hid:"keywords",keywords:"Cyberpunk2077,赛博朋克2077,Cyberpunk 2077 meme,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"万物皆可 Cyberpunk"}],title:"2077 图片制作 - MikuTools"},vip:!1,platforms:["web-pc","web-mobile"],key:"obsolete",icon:"$tabler$car-turbine"}},component=Object(h.a)(l,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"cyberpunk2077"},[e("nya-container",{attrs:{main:"",title:"Cyberpunk 2077 图片制作"}},[e("div",{staticClass:"nya-subtitle"},[n._v("\n            请选择要制作的图片\n        ")]),e("el-input",{attrs:{type:"file",accept:"image/*",placeholder:n.n?n.n.replace(/C:\\fakepath\\/,""):"点击这里上传文件",clearable:""},nativeOn:{change:function(e){return n.handleChange.apply(null,arguments)}},model:{value:n.n,callback:function(e){n.n=e},expression:"n"}},[e("el-button",{attrs:{slot:"append"},on:{click:n.save},slot:"append"},[n._v("\n                保存图片\n            ")])],1),e("div",{staticClass:"nya-subtitle mt-15"},[n._v("\n            选择 Logo 样式\n        ")]),e("el-radio-group",{model:{value:n.style,callback:function(e){n.style=e},expression:"style"}},[e("el-radio",{attrs:{label:"logo_en"}},[n._v("\n                英文\n            ")]),e("el-radio",{attrs:{label:"logo_en_2"}},[n._v("\n                英文2\n            ")]),e("el-radio",{attrs:{label:"logo_en_shadow"}},[n._v("\n                英文带阴影\n            ")]),e("el-radio",{attrs:{label:"logo_cn"}},[n._v("\n                中文\n            ")])],1)],1),e("nya-container",{directives:[{name:"show",rawName:"v-show",value:n.n,expression:"n"}],attrs:{title:"预览"}},[e("div",{ref:"box",staticClass:"box"},[e("canvas",{ref:"canvas"})])])],1)}),[],!1,null,null,null);"function"==typeof d&&d(component);e.default=component.exports},959:function(n,e,t){"use strict";t(13);e.a=function(n){return new Promise((function(e,t){var o=new FileReader;o.readAsDataURL(n),o.onload=function(){return e(o.result)},o.onerror=function(n){return t(n)}}))}}}]);