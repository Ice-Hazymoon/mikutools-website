(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1461:function(e,t,n){e.exports={}},2547:function(e,t,n){"use strict";n(1461)},3012:function(e,t,n){"use strict";n.r(t);n(21),n(68),n(988);var r=n(959),o={name:"FaceContrast",data:function(){return{faceA:{filename:"",file:"",url:""},faceB:{filename:"",file:"",url:""},results:"",status:"开始对比",loading:!1}},methods:{contrast:function(){var e=this;if(this.loading)return!1;this.loading=!0,this.results=null,this.status="正在进行对比",this.$axios.post("/face_contrast",{faceA:this.faceA.url.replace(/data:.+?,/,""),faceB:this.faceB.url.replace(/data:.+?,/,"")}).then((function(t){e.loading=!1,e.results=t.data.data,e.status="开始对比"})).catch((function(t){e.status="开始对比",e.loading=!1,e.$notify.error({title:"对比失败",message:t})}))},onSelectFile:function(e,t){var n=this,o=e.target,l=o.files;if(!l.length)return!1;var c=l[0];c.size/1024/1024>5?(this.n="",this.$notify.error({title:"上传失败",message:"请选择大小在5M以内的图片"})):(this["face".concat(t)].file=c,Object(r.a)(o.files[0]).then((function(e){n["face".concat(t)].url=e})))}}},l=(n(2547),n(6)),c=function(e){e.exports.head={meta:[{hid:"keywords",keywords:"人脸相似度对比,人脸对比,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"人脸相似度对比"}],title:"人脸相似度对比 - MikuTools"},e.options.toolsMeta={name:"人脸相似度对比",path:"/face_contrast",head:{meta:[{hid:"keywords",keywords:"人脸相似度对比,人脸对比,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"人脸相似度对比"}],title:"人脸相似度对比 - MikuTools"},vip:!1,platforms:["app-android","web-pc","web-mobile"],key:"image",icon:"$tabler$mood-empty"}},component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"face_contrast"},[t("nya-container",{attrs:{main:"",title:"人脸相似度对比"}},[t("div",{staticClass:"nya-subtitle"},[e._v("\n            图片A\n        ")]),t("el-input",{staticClass:"mb-15",attrs:{disabled:e.loading,type:"file",accept:"image/*",placeholder:e.faceA.filename?e.faceA.filename.replace(/C:\\fakepath\\/,""):"点击这里上传文件",clearable:""},nativeOn:{change:function(t){return e.onSelectFile(t,"A")}},model:{value:e.faceA.filename,callback:function(t){e.$set(e.faceA,"filename",t)},expression:"faceA.filename"}}),t("div",{staticClass:"nya-subtitle"},[e._v("\n            图片B\n        ")]),t("el-input",{staticClass:"mb-15",attrs:{disabled:e.loading,type:"file",accept:"image/*",placeholder:e.faceB.filename?e.faceB.filename.replace(/C:\\fakepath\\/,""):"点击这里上传文件",clearable:""},nativeOn:{change:function(t){return e.onSelectFile(t,"B")}},model:{value:e.faceB.filename,callback:function(t){e.$set(e.faceB,"filename",t)},expression:"faceB.filename"}}),t("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.contrast}},[e._v("\n            "+e._s(e.status)+"\n        ")])],1),e.results?t("nya-container",{staticClass:"results",attrs:{title:"对比成功"}},[t("h3",[e._v("\n            人脸相似度："),t("span",{staticClass:"color-theme"},[e._v(e._s(e.results&&e.results.toFixed(5))+"% ")]),e.results>=90?t("span",[e._v("大概率是同一人")]):e._e(),e.results>=80&&e.results<90?t("span",[e._v("可能是同一人")]):e._e(),e.results<80?t("span",[e._v("不是同一人")]):e._e()]),t("div",{staticClass:"image-box"},[t("img",{attrs:{src:e.faceA.url,alt:""}})]),t("div",{staticClass:"image-box"},[t("img",{attrs:{src:e.faceB.url,alt:""}})])]):e._e(),t("nya-container",{attrs:{title:"说明"}},[t("ul",{staticClass:"nya-list"},[t("li",[t("b",[e._v("请善于使用\n                    "),t("nuxt-link",{attrs:{to:"/picture_clipping"}},[e._v("图片裁剪")]),e._v("\n                    将人脸信息裁剪后再进行识别")],1)]),t("li",[e._v("数据仅供参考，不可用于正式用途")])])])],1)}),[],!1,null,null,null);"function"==typeof c&&c(component);t.default=component.exports},959:function(e,t,n){"use strict";n(13);t.a=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}},988:function(e,t,n){"use strict";var r=n(2),o=n(4),l=n(62),c=n(532),f=n(530),d=n(5),m=RangeError,h=String,v=Math.floor,_=o(f),y=o("".slice),k=o(1..toFixed),w=function(e,t,n){return 0===t?n:t%2==1?w(e,t-1,n*e):w(e*e,t/2,n)},x=function(data,e,t){for(var n=-1,r=t;++n<6;)r+=e*data[n],data[n]=r%1e7,r=v(r/1e7)},C=function(data,e){for(var t=6,n=0;--t>=0;)n+=data[t],data[t]=v(n/e),n=n%e*1e7},A=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=h(data[e]);s=""===s?t:s+_("0",7-t.length)+t}return s};r({target:"Number",proto:!0,forced:d((function(){return"0.000"!==k(8e-5,3)||"1"!==k(.9,0)||"1.25"!==k(1.255,2)||"1000000000000000128"!==k(0xde0b6b3a7640080,0)}))||!d((function(){k({})}))},{toFixed:function(e){var t,n,r,o,f=c(this),d=l(e),data=[0,0,0,0,0,0],v="",k="0";if(d<0||d>20)throw m("Incorrect fraction digits");if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return h(f);if(f<0&&(v="-",f=-f),f>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(f*w(2,69,1))-69)<0?f*w(2,-t,1):f/w(2,t,1),n*=4503599627370496,(t=52-t)>0){for(x(data,0,n),r=d;r>=7;)x(data,1e7,0),r-=7;for(x(data,w(10,r,1),0),r=t-1;r>=23;)C(data,1<<23),r-=23;C(data,1<<r),x(data,1,1),C(data,2),k=A(data)}else x(data,0,n),x(data,1<<-t,0),k=A(data)+_("0",d);return k=d>0?v+((o=k.length)<=d?"0."+_("0",d-o)+k:y(k,0,o-d)+"."+y(k,o-d)):v+k}})}}]);