/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{1096:function(e,t,n){e.exports={}},1126:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return f}));const r=(e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=(e,t)=>{n.platforms.set(e,t)},n.setPlatform=e=>{n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{});r.addPlatform,r.setPlatform;var o;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(o||(o={}));class l extends Error{constructor(e,code){super(e),this.message=e,this.code=code}}const c=e=>{var t,n,r,c,d;const f=e.CapacitorCustomPlatform||null,v=e.Capacitor||{},m=v.Plugins=v.Plugins||{},h=e.CapacitorPlatforms,w=(null===(t=null==h?void 0:h.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==f?f.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e)),y=(null===(n=null==h?void 0:h.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==w()),_=(null===(r=null==h?void 0:h.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(e=>{const t=P.get(e);return!!(null==t?void 0:t.platforms.has(w()))||!!L(e)}),L=(null===(c=null==h?void 0:h.currentPlatform)||void 0===c?void 0:c.getPluginHeader)||(e=>{var t;return null===(t=v.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))}),P=new Map,k=(null===(d=null==h?void 0:h.currentPlatform)||void 0===d?void 0:d.registerPlugin)||((e,t={})=>{const n=P.get(e);if(n)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),n.proxy;const r=w(),c=L(e);let d;const h=n=>{let m;const h=(...h)=>{const p=(async()=>(!d&&r in t?d=d="function"==typeof t[r]?await t[r]():t[r]:null!==f&&!d&&"web"in t&&(d=d="function"==typeof t.web?await t.web():t.web),d))().then((t=>{const d=((t,n)=>{var d,f;if(!c){if(t)return null===(f=t[n])||void 0===f?void 0:f.bind(t);throw new l(`"${e}" plugin is not implemented on ${r}`,o.Unimplemented)}{const r=null==c?void 0:c.methods.find((e=>n===e.name));if(r)return"promise"===r.rtype?t=>v.nativePromise(e,n.toString(),t):(t,r)=>v.nativeCallback(e,n.toString(),t,r);if(t)return null===(d=t[n])||void 0===d?void 0:d.bind(t)}})(t,n);if(d){const p=d(...h);return m=null==p?void 0:p.remove,p}throw new l(`"${e}.${n}()" is not implemented on ${r}`,o.Unimplemented)}));return"addListener"===n&&(p.remove=async()=>m()),p};return h.toString=()=>`${n.toString()}() { [capacitor code] }`,Object.defineProperty(h,"name",{value:n,writable:!1,configurable:!1}),h},y=h("addListener"),_=h("removeListener"),k=(e,t)=>{const n=y({eventName:e},t),r=async()=>{const r=await n;_({eventName:e,callbackId:r},t)},p=new Promise((e=>n.then((()=>e({remove:r})))));return p.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},p},x=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return c?k:y;case"removeListener":return _;default:return h(t)}}});return m[e]=x,P.set(e,{name:e,proxy:x,platforms:new Set([...Object.keys(t),...c?[r]:[]])}),x});return v.convertFileSrc||(v.convertFileSrc=e=>e),v.getPlatform=w,v.handleError=t=>e.console.error(t),v.isNativePlatform=y,v.isPluginAvailable=_,v.pluginMethodNoop=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),v.registerPlugin=k,v.Exception=l,v.DEBUG=!!v.DEBUG,v.isLoggingEnabled=!!v.isLoggingEnabled,v.platform=v.getPlatform(),v.isNative=v.isNativePlatform(),v},d=(e=>e.Capacitor=c(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}),f=d.registerPlugin;d.Plugins;class v{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const r=async()=>this.removeListener(e,t),p=Promise.resolve({remove:r});return Object.defineProperty(p,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()}}),p}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,data){const t=this.listeners[e];t&&t.forEach((e=>e(data)))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new d.Exception(e,o.Unimplemented)}unavailable(e="not available"){return new d.Exception(e,o.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}}).call(this,n(51))},1214:function(e,t){e.exports=function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}},1244:function(e,t,n){"use strict";n.r(t),n.d(t,"Http",(function(){return o}));var r=n(1126);const o=Object(r.b)("Http",{web:()=>n.e(15).then(n.bind(null,3100)).then((e=>new e.HttpWeb)),electron:()=>n.e(15).then(n.bind(null,3100)).then((e=>new e.HttpWeb))})},1559:function(e,t,n){e.exports={}},2888:function(e,t,n){"use strict";n(1559)},3080:function(e,t,n){"use strict";n.r(t);n(528);var r=n(3),o=(n(25),n(13),n(59),n(32),n(988),n(1141)),l=n.n(o),c=n(1214),d=n.n(c),f=(n(1096),n(1012));l.a.registerLanguage("json",d.a);var v={name:"YoutubeDl",data:function(){return{url:"",videoData:{},showmetacode:!1,loading:!1,progress:{show:!1,percentage:0,status:null,text:null,activate:!1}}},computed:{metaCode:function(){return l.a.highlight("json",JSON.stringify(this.videoData,null,4)).value}},methods:{downloadInApp:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,l,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.url,l=n(1244),c=l.Http,t.progress.show=!0,t.progress.percentage=0,t.progress.status=null,t.progress.text=null,t.progress.activate=!0,r.next=9,new Promise((function(e){return setTimeout(e,500)}));case 9:c.addListener("progress",(function(e){t.progress.percentage=e.contentLength?Math.round(e.bytes/e.contentLength*100):0,t.progress.text="".concat((e.bytes/1024).toFixed(2),"KB / ").concat((e.contentLength/1024).toFixed(2),"KB")})),c.downloadFile({url:o,filePath:"".concat(+new Date,".").concat(e.ext),fileDirectory:"DOWNLOADS",headers:{referer:t.videoData.http_headers.Referer},method:"GET",progress:!0,connectTimeout:1e4}).then((function(e){console.log(e),t.progress.show=!0,t.progress.percentage=100,t.progress.status="success",t.progress.activate=!1,t.progress.text="下载完成",t.$notify.success({title:"下载成功",message:"已保存到：".concat(e.path)})})).catch((function(e){t.$notify.error({title:"下载失败",message:e.message}),t.progress.show=!0,t.progress.percentage=100,t.progress.status="exception",t.progress.activate=!1,t.progress.text="下载失败",console.log(e)}));case 11:case"end":return r.stop()}}),r)})))()},download:function(){var e=this;if(this.loading)return!1;Object(f.isURL)(this.url)?(this.progress.show=!1,this.progress.percentage=0,this.progress.status=null,this.progress.text=null,this.progress.activate=!1,this.loading=!0,this.videoData={},this.$axios.post("/youtube_dl",{url:this.url}).then((function(t){e.loading=!1,e.videoData=t.data.data})).catch((function(t){e.loading=!1,e.$notify.error({title:"解析失败",message:t})}))):this.$notify.error({title:"解析失败",message:"请输入正确的链接"})}}},m=(n(2888),n(6)),h=function(e){e.exports.head={meta:[{hid:"keywords",keywords:"在线使用youtube_dl,视频解析,youtube_dl,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"多功能视频下载器"}],title:"视频下载器 - MikuTools"},e.options.toolsMeta={name:"视频下载器",path:"/youtube_dl",head:{meta:[{hid:"keywords",keywords:"在线使用youtube_dl,视频解析,youtube_dl,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"多功能视频下载器"}],title:"视频下载器 - MikuTools"},hot:"vip",vip:!0,platforms:["app-android","web-pc","web-mobile"],key:["vip","other"],icon:"$tabler$world-download"}},component=Object(m.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"youtube_dl"},[t("nya-container",{attrs:{main:"",title:"视频下载器"}},[t("div",{staticClass:"nya-subtitle"},[e._v("\n            输入链接开始下载\n        ")]),t("el-input",{attrs:{placeholder:"https://www.facebook.com/neneko.page/videos/407343883148739/",autofocus:"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.download.apply(null,arguments)}},model:{value:e.url,callback:function(t){e.url="string"==typeof t?t.trim():t},expression:"url"}},[t("el-button",{attrs:{slot:"append",loading:e.loading},on:{click:e.download},slot:"append"},[e._v("\n                "+e._s(e.loading?"获取中":"开始获取")+"\n            ")])],1)],1),e.videoData.title?t("nya-container",{attrs:{title:"获取视频信息成功"}},[e.$store.state.env.isWeb?t("div",[t("h2",[e._v("标题："+e._s(e.videoData.title))]),t("h2",[e._v("下载链接")]),e._l(e.videoData.formats,(function(n,r){return t("div",{key:r},[t("p",[t("span",[e._v(e._s(n.format))]),t("app-link",{attrs:{href:n.url,target:"_blank",title:"右键另存为下载或长按保存",rel:"noopener noreferrer"}},[e._v("\n                        立即下载\n                    ")])],1)])})),t("h2",{staticClass:"metacode-title"},[t("span",[e._v(e._s(e.showmetacode?"隐藏元数据":"显示元数据"))]),e.showmetacode?t("i",{staticClass:"eva eva-minus-circle-outline",on:{click:function(t){e.showmetacode=!1}}}):t("i",{staticClass:"eva eva-plus-circle-outline",on:{click:function(t){e.showmetacode=!0}}})]),e.showmetacode?t("pre",[t("code",{ref:"code",staticClass:"json",domProps:{innerHTML:e._s(e.metaCode)}})]):e._e()],2):e._e(),e.$store.state.env.isApp?t("div",[t("div",{staticClass:"mb-15"},[e._v("\n                "+e._s(e.videoData.title)+"\n            ")]),e.progress.show?t("div",{staticClass:"mb-15"},[t("div",{staticClass:"nya-subtitle"},[e._v("\n                    下载中，请勿离开此页面\n                ")]),t("el-progress",{attrs:{status:e.progress.status,percentage:e.progress.percentage}})],1):e._e(),t("div",{staticClass:"nya-subtitle"},[e._v("\n                下载地址\n            ")]),e._l(e.videoData.formats,(function(n,r){return t("div",{key:r,staticClass:"mb-15"},[t("el-button",{attrs:{disabled:e.progress.activate,size:"mini"},on:{click:function(t){return e.downloadInApp(n)}}},[e._v("\n                    "+e._s(n.format)+" - "+e._s(n.ext)+" - "+e._s("none"===n.vcodec?n.acodec:n.vcodec)+"\n                ")])],1)}))],2):e._e()]):e._e(),e.$store.state.env.isWeb?t("nya-container",{attrs:{title:"说明"}},[t("ul",{staticClass:"nya-list"},[t("li",[e._v("若多次解析成功但下载失败，请不要再次使用")]),t("li",[t("b",[e._v("支持将近 800 个左右网站的解析，但并不是所有链接都是输入就能解析，请不要无脑使用。"),t("app-link",{attrs:{href:"https://github.com/ytdl-org/youtube-dl/tree/master/youtube_dl/extractor",target:"_blank",rel:"noopener noreferrer"}},[e._v("查看支持列表")])],1)])])]):e._e(),e.$store.state.env.isWeb?t("nya-container",{attrs:{title:"说明"}},[t("ul",[t("li",[e._v("若多次解析成功但下载失败，请不要再次使用")])])]):e._e()],1)}),[],!1,null,null,null);"function"==typeof h&&h(component);t.default=component.exports},988:function(e,t,n){"use strict";var r=n(2),o=n(4),l=n(62),c=n(532),d=n(530),f=n(5),v=RangeError,m=String,h=Math.floor,w=o(d),y=o("".slice),_=o(1..toFixed),L=function(e,t,n){return 0===t?n:t%2==1?L(e,t-1,n*e):L(e*e,t/2,n)},P=function(data,e,t){for(var n=-1,r=t;++n<6;)r+=e*data[n],data[n]=r%1e7,r=h(r/1e7)},k=function(data,e){for(var t=6,n=0;--t>=0;)n+=data[t],data[t]=h(n/e),n=n%e*1e7},x=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=m(data[e]);s=""===s?t:s+w("0",7-t.length)+t}return s};r({target:"Number",proto:!0,forced:f((function(){return"0.000"!==_(8e-5,3)||"1"!==_(.9,0)||"1.25"!==_(1.255,2)||"1000000000000000128"!==_(0xde0b6b3a7640080,0)}))||!f((function(){_({})}))},{toFixed:function(e){var t,n,r,o,d=c(this),f=l(e),data=[0,0,0,0,0,0],h="",_="0";if(f<0||f>20)throw v("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return m(d);if(d<0&&(h="-",d=-d),d>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(d*L(2,69,1))-69)<0?d*L(2,-t,1):d/L(2,t,1),n*=4503599627370496,(t=52-t)>0){for(P(data,0,n),r=f;r>=7;)P(data,1e7,0),r-=7;for(P(data,L(10,r,1),0),r=t-1;r>=23;)k(data,1<<23),r-=23;k(data,1<<r),P(data,1,1),k(data,2),_=x(data)}else P(data,0,n),P(data,1<<-t,0),_=x(data)+w("0",f);return _=f>0?h+((o=_.length)<=f?"0."+w("0",f-o)+_:y(_,0,o-f)+"."+y(_,o-f)):h+_}})}}]);