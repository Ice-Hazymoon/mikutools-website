(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{1494:function(t,e,n){t.exports={}},2620:function(t,e,n){"use strict";n(1494)},3043:function(t,e,n){"use strict";n.r(e);n(21),n(68);var o=n(2618),r=n.n(o),c=n(370),l=(n(2619),n(959)),m={name:"PictureClipping",data:function(){return{n:"",file:null,preview:null,cropper:null,option:{outputType:"png"},mode:"crop"}},methods:{setDragMode:function(t){this.cropper.setDragMode(t),this.mode=t},handleChange:function(t){var e=this;this.file=null,this.mode="crop",this.preview=null,this.cropper&&(this.cropper.destroy(),this.cropper=null);var n=t.target.files;if(!n.length)return!1;var o=n[0];Object(l.a)(o).then((function(t){e.preview=t,e.file=o,e.$nextTick(e.init)}))},init:function(){this.cropper=new r.a(this.$refs.preview)},crop:function(){c.a.bind(this)({url:this.cropper.getCroppedCanvas().toDataURL(),filename:"picture-clipping_".concat((new Date).getTime(),".png")}),this.$notify.success({title:"裁剪成功",message:"已保存到设备"})}}},f=(n(2620),n(6)),d=function(t){t.exports.head={meta:[{hid:"keywords",keywords:"图片裁剪,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"简单裁剪旋转图片"}],title:"图片裁剪 - MikuTools"},t.options.toolsMeta={name:"图片裁剪",path:"/picture_clipping",head:{meta:[{hid:"keywords",keywords:"图片裁剪,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"简单裁剪旋转图片"}],title:"图片裁剪 - MikuTools"},vip:!1,platforms:["web-pc","web-mobile"],key:"image",icon:"$tabler$resize"}},component=Object(f.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"picture_clipping"},[e("nya-container",{attrs:{main:"",title:"图片裁剪"}},[e("div",{staticClass:"nya-subtitle mt-0"},[t._v("\n            请选择要裁剪的图片\n        ")]),e("el-input",{staticClass:"mb-15",attrs:{type:"file",accept:"image/*",placeholder:t.n?t.n.replace(/C:\\fakepath\\/,""):"点击这里上传文件"},nativeOn:{change:function(e){return t.handleChange.apply(null,arguments)}},model:{value:t.n,callback:function(e){t.n=e},expression:"n"}}),t.preview?e("div",{staticClass:"box mb-15"},[e("img",{ref:"preview",attrs:{src:t.preview,alt:"preview"}})]):t._e(),t.cropper?e("div",{staticClass:"btn-list"},[e("el-button-group",[e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"调整裁剪框",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"crop"===t.mode?"danger":"primary"},on:{click:function(e){return t.setDragMode("crop")}}},[e("i",{staticClass:"eva eva-crop-outline"})])],1),e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"移动图片",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"move"===t.mode?"danger":"primary"},on:{click:function(e){return t.setDragMode("move")}}},[e("i",{staticClass:"eva eva-move-outline"})])],1)],1),e("el-button-group",[e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"放大图片",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.cropper.zoom(.1)}}},[e("i",{staticClass:"eva eva-maximize-outline"})])],1),e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"缩小图片",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.cropper.zoom(-.1)}}},[e("i",{staticClass:"eva eva-minimize-outline"})])],1)],1),e("el-button-group",[e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"上下翻转",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){t.cropper.scaleX(-t.cropper.getData().scaleX)}}},[e("i",{staticClass:"eva eva-flip-outline"})])],1),e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"水平翻转",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){t.cropper.scaleY(-t.cropper.getData().scaleY)}}},[e("i",{staticClass:"eva eva-flip-2-outline"})])],1)],1),e("el-button-group",[e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"逆时针旋转90°",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.cropper.rotate(-90)}}},[e("i",{staticClass:"eva eva-corner-up-left-outline"})])],1),e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"顺时针旋转90°",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.cropper.rotate(90)}}},[e("i",{staticClass:"eva eva-corner-up-right-outline"})])],1)],1),e("el-button-group",[e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"清除选区",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.cropper.clear()}}},[e("i",{staticClass:"eva eva-close-outline"})])],1),e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"重置",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.cropper.reset()}}},[e("i",{staticClass:"eva eva-sync-outline"})])],1),e("el-tooltip",{staticClass:"item",attrs:{transition:"el-fade-in",effect:"dark",content:"裁剪",placement:"bottom"}},[e("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.crop}},[e("i",{staticClass:"eva eva-checkmark-outline"})])],1)],1)],1):t._e()],1)],1)}),[],!1,null,null,null);"function"==typeof d&&d(component);e.default=component.exports},959:function(t,e,n){"use strict";n(13);e.a=function(t){return new Promise((function(e,n){var o=new FileReader;o.readAsDataURL(t),o.onload=function(){return e(o.result)},o.onerror=function(t){return n(t)}}))}}}]);